<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TriBridges Monthly â€“ July Recap</title>
  <style>
    html { scroll-behavior: smooth; }
    body {
      margin: 0;
      padding: 0;
      font-family: 'Roboto', Arial, sans-serif;
      background: #f7f7f7;
      color: #222;
      line-height: 1.6;
    }

    .container { max-width: 600px; margin: 20px auto; padding: 15px; background: #fff; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); }

    /* Typography */
    h1 { font-size: 1.8em; color: #032f43; margin-bottom: 5px; }
    h2 { font-size: 1.3em; color: #043952; margin-top: 1.2em; margin-bottom: 0.4em; }
    h2.big-news { font-size: 1.1em; color: #b34700; margin-top: 1.5em; margin-bottom: 0.2em; font-style: italic; }
    h3 { font-size: 1.2em; color: #045985; margin-top: 1em; margin-bottom: 0.3em; }
    h4 { font-size: 1em; color: #045985; margin: 0.6em 0 0.2em; }
    p, li { font-size: 1em; margin: 0.5em 0; }

    /* Quick Links */
    .quick-links {
      background: #eef9ff;
      border: 1px solid #cce7f5;
      border-radius: 6px;
      padding: 10px 14px;
      margin: 12px 0 20px;
      font-size: 0.95em;
    }
    .quick-links ul {
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }
    .quick-links li { display: inline; }
    .quick-links a {
      text-decoration: none;
      color: #045985;
      font-weight: 500;
    }
    .quick-links a:hover { text-decoration: underline; color: #033f61; }

    /* Back to Quick Links Button */
    .back-to-links {
      display: inline-block;
      margin-top: 12px;
      font-size: 0.9em;
      color: #045985;
      text-decoration: none;
    }
    .back-to-links:hover { text-decoration: underline; color: #033f61; }

    /* Utility */
    .divider { border-top: 1px solid #e2e2e2; margin: 2em 0; }

    /* Images */
    img { display: block; width: 100%; height: auto; margin: 12px auto; border-radius: 4px; box-shadow: 0 2px 6px rgba(0,0,0,0.08); opacity: 0; transform: translateY(15px); transition: opacity 0.6s ease, transform 0.6s ease; }
    img.loaded { opacity: 1; transform: translateY(0); }

    /* Sections */
    .highlight { background: #f9f9f9; border-left: 4px solid #ccc; border-radius: 6px; padding: 12px; margin-top: 1em; opacity: 1; transform: none; }
    .swim-section, .open-water-section, .race-section, .event-item, .non-tri-item, #shoutoutsContainer div, .whatsapp-highlight, .results-cta, .discount-body {
      opacity: 0; transform: translateY(15px); transition: opacity 0.6s ease, transform 0.6s ease;
    }
    .visible { opacity: 1 !important; transform: translateY(0) !important; }

    .swim-section { background: #fdf3f3; border-left: 4px solid #e63946; border-radius: 6px; padding: 16px; }
    .open-water-section { background: #eef9ff; border-left: 4px solid #0077cc; border-radius: 6px; padding: 16px; }
    .membership-section { background: #fff8e6; border-left: 4px solid #f4b400; border-radius: 6px; padding: 16px; margin: 20px 0; opacity: 1; transform: none; }
    .membership-section h3 { margin-top: 0; color: #b35a00; }
    .race-section { background: #f6faff; border-left: 4px solid #3ca9dd; border-radius: 6px; padding: 16px; margin-bottom: 1em; }
    .race-highlight { background: #ffeaea; border-left: 4px solid #e63946; padding: 14px; border-radius: 6px; margin-top: 10px; }
    .event-group { margin-bottom: 20px; }
    .event-item { background: #f0f8ff; border-left: 4px solid #0077cc; padding: 12px; border-radius: 6px; margin-top: 8px; }
    .non-tri-item { background: #f5f0ff; border-left: 4px solid #8a2be2; padding: 12px; border-radius: 6px; margin-top: 8px; }
    .qualified { display: inline-block; margin-left: 8px; padding: 2px 6px; background: #ffd700; color: #000; font-weight: bold; font-size: 0.85em; border-radius: 4px; }
    #shoutoutsContainer div { background: #f9f9f9; border-left: 4px solid #ccc; padding: 10px; margin-bottom: 10px; border-radius: 6px; }

    /* WhatsApp */
    .whatsapp-highlight { background: #e7f9ef; border-left: 4px solid #25d366; border-radius: 6px; padding: 12px; margin-top: 1em; }

    /* Discounts */
    .discount-header { background: #007acc; color: #fff; padding: 8px 12px; border-radius: 6px 6px 0 0; font-weight: bold; }
    .discount-body { background: #eaf4ff; padding: 12px; border-radius: 0 0 6px 6px; border: 1px solid #007acc; border-top: none; word-break: break-word; }
    .discount-separator { border-top: 1px solid #cdd9e5; margin: 14px 0; }
    .discount-code { display: inline-block; background: #045985; color: #fff; padding: 8px 14px; border-radius: 4px; font-size: 1.2em; font-weight: bold; margin: 6px 0; text-decoration: none; }
    .discount-code:hover { background: #033f61; }

    /* Results CTA */
    .results-cta { background: #fef7e6; border-left: 4px solid #f4b400; border-radius: 6px; padding: 16px; margin: 20px 0; text-align: center; }
    .results-cta h2 { margin-top: 0; color: #b35a00; }
    .results-cta .cta-button { display: inline-block; margin-top: 8px; background: #f4b400; color: #fff; font-weight: bold; text-decoration: none; padding: 10px 16px; border-radius: 4px; transition: background 0.2s ease-in-out; }
    .results-cta .cta-button:hover { background: #d99900; }

    /* Footer */
    footer { margin-top: 2em; padding-top: 1em; font-size: 0.95em; text-align: center; color: #888; border-top: 1px solid #e2e2e2; }
    footer p a { margin: 0 6px; text-decoration: none; }
    footer p a:hover { text-decoration: underline; }
    .back-to-top { display: inline-block; margin-top: 12px; font-size: 0.9em; color: #045985; text-decoration: none; }
    .back-to-top:hover { text-decoration: underline; color: #033f61; }

    /* Responsive */
    @media (max-width: 480px) {
      h1 { font-size: 1.6em; }
      h2 { font-size: 1.2em; }
      h3 { font-size: 1.1em; }
      p, li { font-size: 0.95em; }
    }
  </style>
</head>
<body>
  <div class="container" id="top">
    <header>
      <h1>ğŸ—ï¸ TriBridges Monthly</h1>
      <p>The July Recap â€“ Racing, Silverware & Shoutouts!</p>
    </header>

    <!-- Quick Links -->
    <nav class="quick-links">
      <p><strong>ğŸ“‘ Quick Links:</strong></p>
      <ul>
        <li><a href="#chairman-remarks">ğŸ‘‹ Chairman's Opening</a></li>
        <li><a href="#swim-sessions">ğŸŠ Pool Swim</a></li>
        <li><a href="#open-water">ğŸŒŠ Open Water</a></li>
        <li><a href="#race-reports">ğŸ— Race Reports</a></li>
        <li><a href="#shoutouts">ğŸ‰ Shoutouts</a></li>
        <li><a href="#upcoming-events">ğŸ“… Tri Events</a></li>
        <li><a href="#non-tri-events">ğŸš´ Non-Tri</a></li>
        <li><a href="#whatsapp">ğŸ’¬ WhatsApp</a></li>
        <li><a href="#membership">ğŸŸ Membership</a></li>
        <li><a href="#discounts">ğŸ· Discounts</a></li>
      </ul>
    </nav>

    <!-- Chairman -->
    <section id="chairman-remarks">
      <h2>ğŸ‘‹ Chairman's Opening Remarks</h2>
  <div class="highlight">
  <p><em>
    Well, where has the year gone? ğŸ™„ Just like that, we're into August and heading into the latter part of the season!  
    <br><br>
    There's still plenty of racing ahead, so get involved and join your fellow clubmates. The recent buzz at races has been electric â€“ itâ€™s fantastic to be out there competing alongside each other.  
    <br><br>
    As mentioned below, the <strong>Loch Ore Triathlon Festival</strong> is now just 4 weeks away. It would be brilliant to see our biggest-ever TriBridges turnout! Last time was an absolute blast â€“ whether youâ€™re racing or cheering, come along and be part of it.  
    <br><br>
    A huge thanks to our committee for their sterling work behind the scenes. Running a club takes serious effort to keep everything ticking over, and their dedication doesnâ€™t go unnoticed.  
    <br><br>
    Finally, a warm welcome to <strong>Doug</strong> and <strong>Jake</strong> whoâ€™ve recently joined, and best of luck to <strong>Charlie</strong> racing at Ironman Sweden in a couple of weeks!  
  </em></p>
</div>

      <a href="#top" class="back-to-links">â¬† Back to Quick Links</a>
    </section>

    <div class="divider"></div>



    <!-- Pool Swim Sessions -->
     <section id="swim-sessions" class="swim-section">
      <h2>ğŸŠ Pool Swim Sessions</h2>
      <p>Join coached swims â€“ choose from <strong>Direct Debit (Â£25/month)</strong> or <strong>PAYG (Â£5.34/session)</strong> options.</p>
      <ul>
        <li><strong>ğŸ—“ Times:</strong> Mondays & Thursdays â€“ 06:00â€“07:30</li>
        <li><strong>ğŸ‘¨â€ğŸ« Coaching:</strong> 30 mins poolside coaching every Monday</li>
        <li><strong>ğŸ“ Venue:</strong> Carnegie Leisure Centre</li>
      </ul>
      <p>Direct Debit means <strong>turn up and swim</strong> (no booking required). Prefer PAYG? Book individual sessions below:</p>
      <div class="swim-options">
        <div class="swim-option">
          <h3>ğŸ’³ Direct Debit â€“ Â£25/month</h3>
          <p>Unlimited sessions. Turn up and swim, no booking required.</p>
          <a href="https://pay.gocardless.com/billing/static/collect-customer-details?id=BRF01K1JWMB2NAFBZY5W7TAPBHHKJ9G7&initial=%2Fcollect-customer-details"
             target="_blank" 
             class="swim-button main">Sign Up for Direct Debit</a>
        </div>
        <div class="swim-option">
          <h3>ğŸŠ PAYG â€“ Â£5.34/session</h3>
          <p>Book individual sessions via Spond.</p>
          <a href="https://spond.com/client/groups/2576C43FF4D848A491D8723C0AF0F64D"
             target="_blank" 
             class="swim-button secondary">Book PAYG Session</a>
          
        </div>
      </div> <a href="#top" class="back-to-links">â¬† Back to Quick Links</a>
    </section>
    <div class="divider"></div>

    <!-- Open Water Clinic -->
    <section id="open-water" class="open-water-section">
      <h2>ğŸŠ Open Water Clinic â€“ 5th August</h2>
      <p class="clinic-intro">Join our <strong>FREE Open Water Swim Clinic</strong> at Lochore Meadows â€“ perfect for all abilities!</p>
      <ul class="clinic-details">
        <li>ğŸ“… <strong>Date & Time:</strong> Tuesday 5th August (evening session)</li>
        <li>ğŸ“ <strong>Location:</strong> Lochore Meadows</li>
        <li>ğŸ‘¨â€ğŸ« <strong>Focus:</strong> Wetsuit tips, entry/exit skills, sighting, drafting & confidence building</li>
        <li>âœ… <strong>All abilities welcome</strong> â€“ from beginners to experienced triathletes</li>
        <li>ğŸ’° <strong>Cost:</strong> <span class="clinic-free">FREE</span> for all members</li>
      </ul>
      <p class="clinic-note">Don't miss this chance to sharpen your open water skills and build confidence!</p>
      <div class="clinic-cta">
        <a href="https://spond.com/client/sponds/FB5D9336071E48BD9658462BD58C78A4" target="_blank" class="clinic-button">ğŸ”— Book Your FREE Place via Spond</a>
      </div><a href="#top" class="back-to-links">â¬† Back to Quick Links</a>
    </section>
    

    <div class="divider"></div>

    <!-- Race Reports -->
    <section id="race-reports">
      <h2>ğŸ—ï¸ Race Reports & Results</h2>
      <div id="raceReportsContainer"></div>
      <a href="#top" class="back-to-links">â¬† Back to Quick Links</a>
    </section>

    <div class="divider"></div>


    <div class="results-cta">
      <h2>ğŸ“ Have You Logged Your 2025 Race Results?</h2>
      <p>Logged results help us build end-of-year nominations!</p>
      <p><a href="https://www.facebook.com/groups/2256266274676317/posts/3624964147806516/" target="_blank" class="cta-button">ğŸ“¥ Log Your Race Results Here</a></p>
    </div>

    <div class="divider"></div>

    <!-- Shoutouts -->
    <section id="shoutouts">
      <h2 class="big-news">ğŸ‰ Big News!</h2>
      <h3>ğŸ™Œ Member Shoutouts</h3>
      <div id="shoutoutsContainer"></div>
      <a href="#top" class="back-to-links">â¬† Back to Quick Links</a>
    </section>

    <div class="divider"></div>

    <!-- Upcoming Tri Events -->
    <section id="upcoming-events">
      <h2>ğŸ“… Upcoming Triathlon Events</h2>
      <div id="upcomingEventsContainer"></div>
      <a href="#top" class="back-to-links">â¬† Back to Quick Links</a>
    </section>

    <div class="divider"></div>

    <!-- Non-Tri Events -->
    <section id="non-tri-events">
      <h2>ğŸš´ Nonâ€‘Tri Events</h2>
      <div id="nonTriEventsContainer"></div>
      <a href="#top" class="back-to-links">â¬† Back to Quick Links</a>
    </section>

    <div class="divider"></div>

    <!-- WhatsApp -->
<div id="whatsapp" class="whatsapp-highlight">
  <h3>ğŸ’¬ Join the TriBridges WhatsApp Community!</h3>
  <p>
    Be part of our growing <strong>WhatsApp community</strong> â€“ the hub for all things TriBridges:
  </p>
  <ul>
    <li>ğŸ“† Organise spontaneous <strong>meetâ€‘ups and training sessions</strong></li>
    <li>ğŸŠğŸš´ğŸƒ Join <strong>raceâ€‘specific chats</strong> for tips, support & updates</li>
    <li>â“ Ask questions and get advice from fellow members</li>
    <li>ğŸ‰ Stay in the loop with the latest club news & banter</li>
  </ul>
  <p><strong>ğŸ‘‰ Ready to join?</strong> Click below to be part of the conversation:</p>
  <p>
    <a href="https://chat.whatsapp.com/LJCmVxMOnD0DFzBC3niTte" target="_blank" class="cta-button">
      ğŸ”— Join the WhatsApp Community
    </a>
  </p>
  <a href="#top" class="back-to-links">â¬† Back to Quick Links</a>
</div> <!-- âœ… Correct closing for WhatsApp -->

<!-- Triathlon Scotland Membership -->
<section id="membership" class="membership-section">
  <h3>ğŸŸ Are you a member of Triathlon Scotland?</h3>
  <p>Support the sport you love! Membership not only helps fund triathlon development in Scotland, but also comes with fantastic benefits:</p>
  <ul>
    <li>ğŸ… <strong>Race Licence</strong> for Scottish and UK events</li>
    <li>ğŸ’° <strong>Access to Reward Zone Discounts</strong> â€“ amazing deals on top brands!</li>
    <li>ğŸ“š Insurance cover for training & racing</li>
    <li>ğŸ¤ Be part of the wider Scottish triathlon community</li>
  </ul>
  <p><strong>ğŸ”¥ The Reward Zone discounts are excellent value alone!</strong></p>
  <p>
    ğŸ‘‰ <a href="https://www.triathlonscotland.org/membership/" target="_blank" class="cta-button">
      ğŸ”— Join Triathlon Scotland Today
    </a>
  </p>
  <a href="#top" class="back-to-links">â¬† Back to Quick Links</a>
</section>

<div class="divider"></div>

    <!-- Club Discounts -->
    <section id="discounts">
      <h2 class="discount-header">ğŸ·ï¸ Club Discounts & Promotions</h2>
      <div class="discount-body">
        <h3>SportsShoes</h3>
        <p>The SportsShoes code for <strong>August</strong> is:</p>
        <a href="https://www.sportsshoes.com/" target="_blank" class="discount-code">NZ45J8N6</a>
        <p>âœ… 15% off AW25-only products<br>âŒ Not valid on: Brooks, Coros, Garmin, Maurten, Shokz.<br>â³ Valid until 01/09/25.</p>
        <div class="discount-separator"></div>
        <h3>British Triathlon Reward Zone</h3>
        <p>Amazing discounts on a large range of brands and products</p>
        <a href="https://britishtriathlon.myezrewards.com/p/british-triathlon" target="_blank" class="discount-code">Click Here To Access Site</a>
        <p>Open to members with a core Triathlon Scotland Membership</p>
      </div>
    </section>
    <a href="#top" class="back-to-links">â¬† Back to Quick Links</a>
    </section>
    <!-- Footer -->
   <footer>
      <p>TriBridges <span id="year"></span></p>
      <p>
        <a href="mailto:comms@tribridges.co.uk">ğŸ“§ Email</a> |
        <a href="https://spond.com/invite/GXBWF" target="_blank">â­• Join Spond</a> |
        <a href="https://www.facebook.com/groups/2256266274676317/" target="_blank">ğŸ“˜ Facebook</a>
      </p>
      <a href="#top" class="back-to-top">â¬†ï¸ Back to Top</a>
      <p>Â© <span id="year"></span> TriBridges Triathlon Club. All rights reserved.</p>
    </footer>
  </div>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();

    const raceReports = [
      { event: "ğŸº The Highland Wolf 70.3", date: "2025-07-13", athlete: "Nicola", title: "ğŸ“– The Highland Wolf 70.3 ğŸº", description: "Nicola showed resilience, completing her own DIY half-iron distance challenge.", image: "https://i.imgur.com/gMVNwG7.jpeg", link: "https://www.facebook.com/groups/2256266274676317/?multi_permalinks=3690941581208772", resultsLink: "" },
      { event: "ğŸ… Nairn Scottish Sprint Champs", date: "2025-07-05", athlete: "", title: "ğŸ† Scottish Sprint Champs Medal Haul for TriBridges", description: "A truly fantastic days racing in the highlands. Massive congratulations: ğŸ¥‡ Colin, ğŸ¥ˆ Marc, ğŸ¥‰ Leona & ğŸ¥‰ Wendy all acheiving podium places in their age groups.", image: "https://i.imgur.com/RIrQU6U.jpeg", link: "", resultsLink: "https://results.perfecttimingscotland.co.uk/results.aspx?CId=20065&RId=1220&EId=2&dt=1&top=3" },
      { event: "ğŸ¯ Monikie Standard", date: "2025-07-19", athlete: "", title: "ğŸ“– Distance Debuts for Aoibheann & Leona", description: "Aoibheann, Marc, Keith, Wendy, Leona flying flag colours up in Monikie. This is one of the best organised courses in Scotland and this year was a qualifier for the inaugural Celtic Cup which will be held in October.<section> ğŸ´ó §ó ¢ó ³ó £ó ´ó ¿ <strong>Marc<strong> and Colin have qualified to represent team Scotland later this year. Congratulations guys, do us proud! <section>", image: "https://i.imgur.com/zOXDmD5.jpeg", link: "", resultsLink: "https://results.sporthive.com/events/7351689254215049984/races/1" },
      { event: "ğŸ”¥ Outlaw Nottingham", date: "2025-07-27", athlete: "", title: "ğŸ“– Stevieâ€™s Sub12 Success", description: "A full-distance debut, sub12 target acheived capped with an emotional finish line ending.", image: "https://i.imgur.com/s7fWI8w.jpeg", link: "https://www.facebook.com/groups/2256266274676317/posts/3705681843068079/", resultsLink: "https://www.outlawtriathlon.com/outlaw-nottingham/results" },
      { event: "ğŸ•·ï¸ Beastie Cross Tri", date: "2025-07-26", athlete: "", title: "ğŸ¥‡ Off road success for Marc in Loch Lomond", description: "First in his Age group and 4th overall for Marc in the Beastie. It's been a very busy (and successful) months racing for Marc. With his most recent success coming in the off-road scene.", image: "https://i.imgur.com/AyD7IfY.jpeg", link: "", resultsLink: "https://results.perfecttimingscotland.co.uk/Results.aspx?CId=20065&RId=1224" },
      { event: "ğŸ”¥ Outlaw Nottingham", date: "2025-07-27", athlete: "", title: "ğŸ“– Falconerâ€™s First Place in Age Group", description: "Chris stormed to 1st in his age group with a truly impressive debut performance at the distance!", image: "https://i.imgur.com/dxeX6AU.jpeg", link: "https://www.facebook.com/groups/2256266274676317/posts/3705155339787396", resultsLink: "https://www.outlawtriathlon.com/outlaw-nottingham/results" },
      { event: "ğŸš´ Birmingham Standard", date: "2025-07-22", athlete: "", title: "ğŸ“– Scottâ€™s Birmingham Bounceback", description: "Scott returned to racing following his Ironman injury and put in a solid performance in Brum, finishing 19th overall and 2nd in his age group.", image: "https://i.imgur.com/6odcdRn.png", link: "https://www.facebook.com/groups/2256266274676317/posts/3696784743957789/", resultsLink: "" }
    ];

    const upcomingTriEvents = [
      { name: "Middle Distance Triathlon (ğŸ´ó §ó ¢ó ³ó £ó ´ó ¿ó §ó ¢ó ³ó £ó ¿ Scottish Champs)", date: "2025-08-17", description: "Loch Tay (Kenmore) â€“ Includes 'Go Swim' & Aquabike Racing as well over the weekend", link: "https://www.aberfeldytriathlon.com/aberfeldy-middle-distance-triathlon/" },
      { name: "Knockburn Standard Distance Triathlon (ğŸ´ó §ó ¢ó ³ó £ó ´ó ¿ó §ó ¢ó ³ó £ó ¿ Scottish Champs)", date: "2025-09-07", description: "Knockburn Loch â€“ Olympicâ€‘distance Triathlon", link: "https://www.entrycentral.com/festival/4424" },
      { name: "Aviemore Cross Triathlon (ğŸ´ó §ó ¢ó ³ó £ó ´ó ¿ó §ó ¢ó ³ó £ó ¿ Scottish Champs)", date: "2025-09-14", description: "Badaguish (Aviemore) â€“ Offâ€‘road Cross Triathlon. Short and Long (Champs) racing options as well as relay.", link: "https://durtyevents.com/our-events/aviemore-triathlon-2025/" },
      { 
        name: "Lochore Triathlon Festival", 
        date: "2025-08-31", 
        description: `
          <p>Lochore Off Road â€“ <strong>Club Discount code:</strong> <code>TRI25</code></p>
          <ul>
            <li>ğŸŠğŸšµğŸƒ Sprint: 1k Swim â€“ 14k Mountain Bike â€“ 5k Run</li>
            <li>ğŸŠğŸš´ Aquabike: 1k Swim â€“ 14k Mountain Bike</li>
            <li>ğŸŠğŸƒ Aquathlon: 1k Swim â€“ 5k Run</li>
            <li>ğŸŠğŸšµğŸƒ Short Tri: 500m Swim â€“ 10k Cycle â€“ 3k Run</li>
          </ul>
          <p>If we have enough interest, we will bring the club gazebo!</p>
        `,
        image: "https://i.imgur.com/WavyzuI.jpeg", 
        link: "https://www.entrycentral.com/Lochoreoffroadtrifestival2025" 
      },
      { name: "ğŸ´ó §ó ¢ó ·ó ¬ó ³ó ¿Celtic Cup 2025ğŸ´ó §ó ¢ó ³ó £ó ´ó ¿ â€“ Llandudno Standard Triathlon", date: "2025-10-04", description: "Inaugural Celtic Cup. Marc Preece and Colin McMorrin from the club will be representing team Scotland!", link: "https://alwaysaimhighevents.com/events/llandudno-triathlon-duathlon-2025/llandudno-standard-triathlon-2025", qualified: true }
    ];

    const nonTriEvents = [
      { name: "TD4 â€“ Sir Chris Hoy Event", date: "2025-09-07", type: "cycling", link: "https://tourde4.com/" },
      { name: "National 50 Mile TT Champs", date: "2025-08-31", location: "Montrose", type: "cycling", link: "https://www.britishcycling.org.uk/events/details/318044/Scottish-National-50-Mile-TT-Championships-Coffee-Pot-Trophy" }
    ];

    const eventIcons = { cycling: "ğŸš´", running: "ğŸƒ", swimming: "ğŸŠ", duathlon: "ğŸš´ğŸƒ", other: "ğŸ¯" };

    const shoutouts = [
      { text: "Ethan & Natasha â€“ Wedding bells! Huge congratulations the newly married couple.", link: "" },
      { text: "Colin & Erica â€“ Welcomed baby Fiadh into the world in July - congratulations!", link: "" },
      { text: "Alex & Lukas â€“ Conquered the Highlander Backyard Ultra National Championships... with a win for Team Scoland! ğŸ†ğŸ´", link: "https://www.facebook.com/groups/2256266274676317/posts/3699039030399027/" }
    ];

    const getImage = (src, alt) => `<img src="${src || 'https://via.placeholder.com/600x350?text=No+Image'}" alt="${alt || 'Event Image'}" loading="lazy">`;

    const renderRaceReports = () => {
      const container = document.getElementById("raceReportsContainer");
      container.innerHTML = "";
      raceReports.sort((a, b) => new Date(a.date) - new Date(b.date));
      const grouped = raceReports.reduce((acc, r) => { (acc[r.event] ||= []).push(r); return acc; }, {});
      Object.entries(grouped).forEach(([eventName, reports]) => {
        const eventDate = new Date(reports[0].date).toLocaleDateString("en-GB");
        const section = document.createElement("section");
        section.className = "race-section";
        section.innerHTML = `<h3>${eventName} â€“ ğŸ“… ${eventDate}</h3>`;
        reports.forEach(({ title, athlete, description, image, link }) => {
          const cleanAthlete = athlete.trim();
          const hl = document.createElement("div");
          hl.className = "race-highlight";
          hl.innerHTML = `<h4>${cleanAthlete ? `${title} â€“ ${cleanAthlete}` : title}</h4><p>${description}</p>${getImage(image, athlete)}${link ? `<p><a href="${link}" target="_blank">ğŸ”— Read Full Report</a></p>` : ""}`;
          section.appendChild(hl);
        });
        const resultsLink = reports.find(r => r.resultsLink)?.resultsLink;
        if (resultsLink) section.innerHTML += `<p><a href="${resultsLink}" target="_blank">ğŸ“Š Full Results Here</a></p>`;
        container.appendChild(section);
      });
    };

    const renderUpcomingEvents = () => {
      const container = document.getElementById("upcomingEventsContainer");
      container.innerHTML = "";
      const sorted = [...upcomingTriEvents].sort((a, b) => new Date(a.date) - new Date(b.date));
      const nextDate = new Date(sorted[0].date).getTime();
      const grouped = sorted.reduce((acc, e) => { const m = new Date(e.date).toLocaleString("en-GB", { month: "long", year: "numeric" }); (acc[m] ||= []).push(e); return acc; }, {});
      Object.entries(grouped).forEach(([month, events]) => {
        const mg = document.createElement("div"); mg.className = "event-group"; mg.innerHTML = `<h3>${month}</h3>`;
        events.forEach(({ name, date, description, link, qualified, image }) => {
          const isNext = new Date(date).getTime() === nextDate;
          const div = document.createElement("div"); div.className = "event-item";
          if (isNext) { div.style.background = "#fff8e6"; div.style.borderLeft = "4px solid #ffa500"; }
          div.innerHTML = `<strong>${name}</strong>${qualified ? `<span class="qualified">ğŸ† Qualified Athletes</span>` : ""}${isNext ? `<span style="color:#e67e22;font-weight:bold;">ğŸ”¥ Next Up!</span>` : ""}<br>ğŸ“… ${new Date(date).toLocaleDateString("en-GB")}<br>${description}${image ? getImage(image, name) : ""}${link ? `<p><a href="${link}" target="_blank">ğŸ”— Event Link</a></p>` : ""}`;
          mg.appendChild(div);
        });
        container.appendChild(mg);
      });
    };

    const renderNonTriEvents = () => {
      const container = document.getElementById("nonTriEventsContainer");
      container.innerHTML = "";
      const sorted = [...nonTriEvents].sort((a, b) => new Date(a.date) - new Date(b.date));
      const nextDate = new Date(sorted[0].date).getTime();
      sorted.forEach(({ name, date, type, location, link }) => {
        const icon = eventIcons[type] || eventIcons.other;
        const isNext = new Date(date).getTime() === nextDate;
        const div = document.createElement("div");
        div.className = "non-tri-item";
        if (isNext) { div.style.background = "#fff8e6"; div.style.borderLeft = "4px solid #ffa500"; }
        div.innerHTML = `<strong>${icon} ${name}</strong>${isNext ? `<span style="color:#e67e22;font-weight:bold;">ğŸ”¥ Next Up!</span>` : ""}<br>ğŸ“… ${new Date(date).toLocaleDateString("en-GB")}${location ? ` â€“ <em>${location}</em>` : ""}${link ? `<p><a href="${link}" target="_blank">ğŸ”— Event Link</a></p>` : ""}`;
        container.appendChild(div);
      });
    };

    const renderShoutouts = () => {
      const container = document.getElementById("shoutoutsContainer");
      container.innerHTML = "";
      const emojiMap = { wedding: "ğŸ’", baby: "ğŸ‘¶", running: "ğŸƒ", achievement: "ğŸ‘", default: "ğŸ‰" };
      shoutouts.forEach(({ text, link }) => {
        const [namePart, ...rest] = text.trim().split("â€“");
        let boldedText = `<strong>${namePart.trim()}</strong>${rest.length ? " â€“ " + rest.join("â€“").trim() : ""}`;
        boldedText = boldedText.replace(/baby\s+([A-Za-z]+)/i, 'baby <strong>$1</strong>');
        let emoji = emojiMap.default;
        if (/wedding|married/i.test(text)) emoji = emojiMap.wedding;
        else if (/baby|born|arrival/i.test(text)) emoji = emojiMap.baby;
        else if (/run|ultra|marathon/i.test(text)) emoji = emojiMap.running;
        else if (/congrat|amazing|well done/i.test(text)) emoji = emojiMap.achievement;
        const li = document.createElement("div");
        li.innerHTML = `<p>${emoji} ${boldedText}</p>${link ? `<p><a href="${link}" target="_blank">ğŸ”— More Info</a></p>` : ""}`;
        container.appendChild(li);
      });
    };

    const lazyLoadImages = () => {
      const images = document.querySelectorAll('img');
      const observer = new IntersectionObserver((entries, obs) => {
        entries.forEach(entry => { if (entry.isIntersecting) { entry.target.classList.add('loaded'); obs.unobserve(entry.target); } });
      }, { threshold: 0.1 });
      images.forEach(img => observer.observe(img));
    };

    const fadeInSections = () => {
      const elements = document.querySelectorAll('.swim-section, .open-water-section, .race-section, .event-item, .non-tri-item, #shoutoutsContainer div, .whatsapp-highlight, .results-cta, .discount-body');
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('visible'); });
      }, { threshold: 0.1 });
      elements.forEach(el => observer.observe(el));
    };

    renderRaceReports();
    renderShoutouts();
    renderUpcomingEvents();
    renderNonTriEvents();
    lazyLoadImages();
    fadeInSections();
  </script>
</body>
</html>
